
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "WP2geo_modeling/WP02_TEST.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_WP2geo_modeling_WP02_TEST.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_WP2geo_modeling_WP02_TEST.py:


Export a GemPy Model
======================

nananana NaNaNaNa EEEEYOOOO Gooodbye. ``connect`` of 'OpenWF'.

.. GENERATED FROM PYTHON SOURCE LINES 7-19

.. code-block:: default

    # # Export a geological model from GemPy to use in MOOSE
    # _implemented by [Jan Niederau](https://github.com/Japhiolite)_
    # 
    # This is a small example notebook guiding you through the process of exporting a geological model generated in [GemPy](https://www.gempy.org/) (Tutorial Chapter 1-1 therein) so it is usable as a Mesh in the [MOOSE](https://mooseframework.org/) framework.  
    # 
    # 
    # These two lines are necessary only if GemPy is not installed 

    import gempy as gp

    import matplotlib.pyplot as plt








.. GENERATED FROM PYTHON SOURCE LINES 20-24

Creating a geological model  
---------------------------

The procedure of generating a geological model is presented in detail in [Chapter 1-1](https://nbviewer.jupyter.org/github/cgre-aachen/gempy/blob/master/notebooks/tutorials/ch1-1_Basics.ipynb) of the GemPy tutorials, so it will only be briefly presented here

.. GENERATED FROM PYTHON SOURCE LINES 24-32

.. code-block:: default


    geo_model = gp.create_model('tutorial_moose_exp')

    gp.init_data(geo_model, [0,2000., 0,2000., 0,2000.], [50, 50, 80],
                path_o = "../../data/GemPy/simple_fault_model_orientations.csv",
                path_i = "../../data/GemPy/simple_fault_model_points.csv",
                default_values = True)





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Active grids: ['regular']

    tutorial_moose_exp  2021-02-12 18:26



.. GENERATED FROM PYTHON SOURCE LINES 33-34

present the units and series

.. GENERATED FROM PYTHON SOURCE LINES 34-38

.. code-block:: default


    geo_model.surfaces







.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <style  type="text/css" >
        #T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow0_col3 {
                background-color:  #015482;
            }    #T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow1_col3 {
                background-color:  #9f0052;
            }    #T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow2_col3 {
                background-color:  #ffbe00;
            }    #T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow3_col3 {
                background-color:  #728f02;
            }    #T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow4_col3 {
                background-color:  #443988;
            }    #T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow5_col3 {
                background-color:  #ff3f20;
            }</style><table id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2d" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >surface</th>        <th class="col_heading level0 col1" >series</th>        <th class="col_heading level0 col2" >order_surfaces</th>        <th class="col_heading level0 col3" >color</th>        <th class="col_heading level0 col4" >id</th>    </tr></thead><tbody>
                    <tr>
                            <th id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2dlevel0_row0" class="row_heading level0 row0" >0</th>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow0_col0" class="data row0 col0" >Shale</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow0_col1" class="data row0 col1" >Default series</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow0_col2" class="data row0 col2" >1</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow0_col3" class="data row0 col3" >#015482</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow0_col4" class="data row0 col4" >1</td>
                </tr>
                <tr>
                            <th id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2dlevel0_row1" class="row_heading level0 row1" >1</th>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow1_col0" class="data row1 col0" >Sandstone_1</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow1_col1" class="data row1 col1" >Default series</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow1_col2" class="data row1 col2" >2</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow1_col3" class="data row1 col3" >#9f0052</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow1_col4" class="data row1 col4" >2</td>
                </tr>
                <tr>
                            <th id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2dlevel0_row2" class="row_heading level0 row2" >2</th>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow2_col0" class="data row2 col0" >Siltstone</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow2_col1" class="data row2 col1" >Default series</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow2_col2" class="data row2 col2" >3</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow2_col3" class="data row2 col3" >#ffbe00</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow2_col4" class="data row2 col4" >3</td>
                </tr>
                <tr>
                            <th id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2dlevel0_row3" class="row_heading level0 row3" >3</th>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow3_col0" class="data row3 col0" >Sandstone_2</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow3_col1" class="data row3 col1" >Default series</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow3_col2" class="data row3 col2" >4</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow3_col3" class="data row3 col3" >#728f02</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow3_col4" class="data row3 col4" >4</td>
                </tr>
                <tr>
                            <th id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2dlevel0_row4" class="row_heading level0 row4" >4</th>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow4_col0" class="data row4 col0" >Main_Fault</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow4_col1" class="data row4 col1" >Default series</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow4_col2" class="data row4 col2" >5</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow4_col3" class="data row4 col3" >#443988</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow4_col4" class="data row4 col4" >5</td>
                </tr>
                <tr>
                            <th id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2dlevel0_row5" class="row_heading level0 row5" >5</th>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow5_col0" class="data row5 col0" >basement</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow5_col1" class="data row5 col1" >Basement</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow5_col2" class="data row5 col2" >1</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow5_col3" class="data row5 col3" >#ff3f20</td>
                            <td id="T_7c5560d0_6d57_11eb_8a2b_184f329eea2drow5_col4" class="data row5 col4" >6</td>
                </tr>
        </tbody></table>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 39-40

combine units in series and make two series, as the fault needs its own

.. GENERATED FROM PYTHON SOURCE LINES 40-48

.. code-block:: default

    gp.map_series_to_surfaces(geo_model,
                             {"Fault_Series" : 'Main_Fault',
                              "Strat_Series" : ('Sandstone_2', 'Siltstone', 'Shale', 'Sandstone_1', 'basement')},
                             remove_unused_series=True)

    # set the fault series to be fault object
    geo_model.set_is_fault(['Fault_Series'], change_color=False)






.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <table border="1" class="dataframe">
      <thead>
        <tr style="text-align: right;">
          <th></th>
          <th>order_series</th>
          <th>BottomRelation</th>
          <th>isActive</th>
          <th>isFault</th>
          <th>isFinite</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>Fault_Series</th>
          <td>1</td>
          <td>Fault</td>
          <td>True</td>
          <td>True</td>
          <td>False</td>
        </tr>
        <tr>
          <th>Strat_Series</th>
          <td>2</td>
          <td>Erosion</td>
          <td>True</td>
          <td>False</td>
          <td>False</td>
        </tr>
      </tbody>
    </table>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 49-50

check whether series were assigned correctly

.. GENERATED FROM PYTHON SOURCE LINES 50-53

.. code-block:: default


    geo_model.surfaces






.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <style  type="text/css" >
        #T_7c83150c_6d57_11eb_8a2b_184f329eea2drow0_col3 {
                background-color:  #443988;
            }    #T_7c83150c_6d57_11eb_8a2b_184f329eea2drow1_col3 {
                background-color:  #015482;
            }    #T_7c83150c_6d57_11eb_8a2b_184f329eea2drow2_col3 {
                background-color:  #9f0052;
            }    #T_7c83150c_6d57_11eb_8a2b_184f329eea2drow3_col3 {
                background-color:  #ffbe00;
            }    #T_7c83150c_6d57_11eb_8a2b_184f329eea2drow4_col3 {
                background-color:  #728f02;
            }    #T_7c83150c_6d57_11eb_8a2b_184f329eea2drow5_col3 {
                background-color:  #ff3f20;
            }</style><table id="T_7c83150c_6d57_11eb_8a2b_184f329eea2d" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >surface</th>        <th class="col_heading level0 col1" >series</th>        <th class="col_heading level0 col2" >order_surfaces</th>        <th class="col_heading level0 col3" >color</th>        <th class="col_heading level0 col4" >id</th>    </tr></thead><tbody>
                    <tr>
                            <th id="T_7c83150c_6d57_11eb_8a2b_184f329eea2dlevel0_row0" class="row_heading level0 row0" >4</th>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow0_col0" class="data row0 col0" >Main_Fault</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow0_col1" class="data row0 col1" >Fault_Series</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow0_col2" class="data row0 col2" >1</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow0_col3" class="data row0 col3" >#443988</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow0_col4" class="data row0 col4" >1</td>
                </tr>
                <tr>
                            <th id="T_7c83150c_6d57_11eb_8a2b_184f329eea2dlevel0_row1" class="row_heading level0 row1" >0</th>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow1_col0" class="data row1 col0" >Shale</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow1_col1" class="data row1 col1" >Strat_Series</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow1_col2" class="data row1 col2" >1</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow1_col3" class="data row1 col3" >#015482</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow1_col4" class="data row1 col4" >2</td>
                </tr>
                <tr>
                            <th id="T_7c83150c_6d57_11eb_8a2b_184f329eea2dlevel0_row2" class="row_heading level0 row2" >1</th>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow2_col0" class="data row2 col0" >Sandstone_1</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow2_col1" class="data row2 col1" >Strat_Series</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow2_col2" class="data row2 col2" >2</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow2_col3" class="data row2 col3" >#9f0052</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow2_col4" class="data row2 col4" >3</td>
                </tr>
                <tr>
                            <th id="T_7c83150c_6d57_11eb_8a2b_184f329eea2dlevel0_row3" class="row_heading level0 row3" >2</th>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow3_col0" class="data row3 col0" >Siltstone</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow3_col1" class="data row3 col1" >Strat_Series</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow3_col2" class="data row3 col2" >3</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow3_col3" class="data row3 col3" >#ffbe00</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow3_col4" class="data row3 col4" >4</td>
                </tr>
                <tr>
                            <th id="T_7c83150c_6d57_11eb_8a2b_184f329eea2dlevel0_row4" class="row_heading level0 row4" >3</th>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow4_col0" class="data row4 col0" >Sandstone_2</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow4_col1" class="data row4 col1" >Strat_Series</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow4_col2" class="data row4 col2" >4</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow4_col3" class="data row4 col3" >#728f02</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow4_col4" class="data row4 col4" >5</td>
                </tr>
                <tr>
                            <th id="T_7c83150c_6d57_11eb_8a2b_184f329eea2dlevel0_row5" class="row_heading level0 row5" >5</th>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow5_col0" class="data row5 col0" >basement</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow5_col1" class="data row5 col1" >Strat_Series</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow5_col2" class="data row5 col2" >5</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow5_col3" class="data row5 col3" >#ff3f20</td>
                            <td id="T_7c83150c_6d57_11eb_8a2b_184f329eea2drow5_col4" class="data row5 col4" >6</td>
                </tr>
        </tbody></table>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 54-57

Model generation
----------------
After loading in the data, we set it up for interpolation and compute the model.

.. GENERATED FROM PYTHON SOURCE LINES 57-69

.. code-block:: default


    gp.set_interpolator(geo_model,
                             compile_theano=True,
                             theano_optimizer='fast_compile',
                             verbose=[])

    gp.compute_model(geo_model, compute_mesh=False)


    gp.plot_2d(geo_model, direction='y', cell_number=45,show_data=False, show_boundaries=False, show_topography=False)





.. image:: /WP2geo_modeling/images/sphx_glr_WP02_TEST_001.png
    :alt: Cell Number: 45 Direction: y
    :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Setting kriging parameters to their default values.
    Compiling theano function...
    Level of Optimization:  fast_compile
    Device:  cpu
    Precision:  float64
    Number of faults:  1
    Compilation Done!
    Kriging values: 
                      values
    range            3464.1
    $C_o$            285714
    drift equations  [3, 3]

    <gempy.plot.visualization_2d.Plot2D object at 0x7f3ee33b8dd0>




.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  39.615 seconds)


.. _sphx_glr_download_WP2geo_modeling_WP02_TEST.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: WP02_TEST.py <WP02_TEST.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: WP02_TEST.ipynb <WP02_TEST.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
